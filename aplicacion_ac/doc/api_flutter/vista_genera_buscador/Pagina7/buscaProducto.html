<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the buscaProducto method from the Pagina7 class, for the Dart programming language.">
  <title>buscaProducto method - Pagina7 class - genera_buscador library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../../" data-using-base-href="false" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">aplicacion_ac</a></li>
    <li><a href="../../vista_genera_buscador/vista_genera_buscador-library.html">genera_buscador</a></li>
    <li><a href="../../vista_genera_buscador/Pagina7-class.html">Pagina7</a></li>
    <li class="self-crumb">buscaProducto method</li>
  </ol>
  <div class="self-name">buscaProducto</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        brightness_4
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        brightness_5
      </span>
    </label>
  </div>
</header>
<main>

  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-method">buscaProducto</span> method 
</h1></div>

    <section class="multi-line-signature">
      

<span class="returntype"><a href="https://api.flutter.dev/flutter/widgets/Widget-class.html">Widget</a></span>
<span class="name ">buscaProducto</span>(<wbr>)

      

    </section>
    
<section class="desc markdown">
  <p>Widget de búsqueda de producto.</p>
<p>El widget <a href="../../vista_genera_buscador/Pagina7/buscaProducto.html">buscaProducto</a> muestra un campo de texto donde el usuario puede introducir
el nombre de un producto para buscarlo. Al presionar Enter o enviar el formulario, se
realiza una consulta en la base de datos para buscar el producto en las diferentes tiendas.
Si se encuentra el producto, se muestra un mensaje de éxito y se establece la información
del producto encontrado en la instancia de la clase <a href="../../modelo_Producto/Producto-class.html">Producto</a>. Si no se encuentra el producto,
se muestra un mensaje indicando que no se encontró.</p>
<p>Este widget retorna un objeto <a href="https://api.flutter.dev/flutter/widgets/Container-class.html">Container</a> que contiene el campo de texto de búsqueda.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Widget buscaProducto() {
  Random random = Random();
  int aleatorio;
  List&lt;Tienda&gt; resultado_busqueda_producto =
      List&lt;Tienda&gt;.empty(growable: true);
  return Container(
    padding: const EdgeInsets.symmetric(horizontal: 15, vertical: 5),
    child: TextField(
        decoration: const InputDecoration(
          border: OutlineInputBorder(),
          labelText: &#39;Buscar producto&#39;,
          hintText: &quot;Nombre del producto&quot;,
          filled: true,
          fillColor: Colors.white60,
        ),
        onSubmitted: (value) async {
          setState(() {
            pulsado_buscar = !pulsado_buscar;
            _valorIntroducido = value;
            visible = true;
          });

          if (pulsado_buscar) {
            List&lt;String&gt; tablas = [];
            for (var i = 0; i &lt; Tienda.obtenerTiendas.length; i++) {
              String tiendaEnDondeSeRealizaSelect =
                  Tienda.obtenerTiendas[i].nombre;
              tablas.add(tiendaEnDondeSeRealizaSelect);
            }

            await BD.consultaProductosTienda(_valorIntroducido).then((lista) {
              resultado_busqueda_producto = lista;

              _resultado_busqueda =
                  resultado_busqueda_producto as List&lt;Tienda&gt;;

              for (Tienda tienda in _resultado_busqueda) {
                if (tienda.lista_busqueda.isNotEmpty) {
                  aleatorio = random.nextInt(tienda.lista_busqueda.length);
                  nombre_tienda = tienda.nombre;
                  productoE.imagen(tienda
                      .lista_busqueda[aleatorio].hrefProducto
                      .toString());
                  productoE.nombre(_valorIntroducido);
                  productoEncontrado = true;

                  break;
                }
              }

              if (productoEncontrado) {
                ScaffoldMessenger.of(context).showSnackBar(const SnackBar(
                  duration: Duration(seconds: 1),
                  backgroundColor: Color.fromARGB(255, 31, 85, 34),
                  content: Text(&quot;Producto encontrado!&quot;),
                ));

                ScaffoldMessenger.of(context).showSnackBar(const SnackBar(
                  duration: Duration(milliseconds: 1000),
                  backgroundColor: Color.fromARGB(255, 31, 85, 34),
                  content: Text(&quot;Mostrando producto genérico...&quot;),
                ));
              } else {
                ScaffoldMessenger.of(context).showSnackBar(const SnackBar(
                  duration: Duration(milliseconds: 1500),
                  backgroundColor: Colors.deepOrangeAccent,
                  content: Text(&quot;Producto no encontrado!&quot;),
                ));
              }
            });

            pulsado_buscar = !pulsado_buscar;
          }
        }),
  );
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../../index.html">aplicacion_ac</a></li>
  <li><a href="../../vista_genera_buscador/vista_genera_buscador-library.html">genera_buscador</a></li>
  <li><a href="../../vista_genera_buscador/Pagina7-class.html">Pagina7</a></li>
  <li class="self-crumb">buscaProducto method</li>
</ol>


    <h5>Pagina7 class</h5>
    <ol>

        <li class="section-title"><a href="../../vista_genera_buscador/Pagina7-class.html#constructors">Constructors</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/Pagina7.html">Pagina7</a></li>


        <li class="section-title">
          <a href="../../vista_genera_buscador/Pagina7-class.html#instance-properties">Properties</a>
        </li>
          <li><a href="../../vista_genera_buscador/Pagina7/aniadir_a_cesta_pulsado.html">aniadir_a_cesta_pulsado</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/context.html">context</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/hashCode.html">hashCode</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/lista_productos.html">lista_productos</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/mounted.html">mounted</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/nombre_tienda.html">nombre_tienda</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/productoE.html">productoE</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/productoEncontrado.html">productoEncontrado</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/pulsado_buscar.html">pulsado_buscar</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html">runtimeType</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/valor_actual.html">valor_actual</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/visible.html">visible</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/widget.html">widget</a></li>

        <li class="section-title"><a href="../../vista_genera_buscador/Pagina7-class.html#instance-methods">Methods</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/SingleTickerProviderStateMixin/activate.html">activate</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/aniadir_a_cesta.html">aniadir_a_cesta</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/build.html">build</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/buscaProducto.html">buscaProducto</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/construyeCheckboxAlergenos.html">construyeCheckboxAlergenos</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/construyeCheckboxTienda.html">construyeCheckboxTienda</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/SingleTickerProviderStateMixin/createTicker.html">createTicker</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/deactivate.html">deactivate</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/SingleTickerProviderStateMixin/debugFillProperties.html">debugFillProperties</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/didChangeDependencies.html">didChangeDependencies</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/didUpdateWidget.html">didUpdateWidget</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/dispose.html">dispose</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/eligeAlergenos.html">eligeAlergenos</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/eligeOpciones.html">eligeOpciones</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/initState.html">initState</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/reassemble.html">reassemble</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/widgets/State/setState.html">setState</a></li>
          <li><a href="../../vista_genera_buscador/Pagina7/tiendasPref.html">tiendasPref</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/foundation/Diagnosticable/toDiagnosticsNode.html">toDiagnosticsNode</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/foundation/Diagnosticable/toString.html">toString</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/foundation/Diagnosticable/toStringShort.html">toStringShort</a></li>

        <li class="section-title inherited"><a href="../../vista_genera_buscador/Pagina7-class.html#operators">Operators</a></li>
          <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    aplicacion_ac
      0.1.3
  </span>

  
</footer>



<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>



</body>

</html>

